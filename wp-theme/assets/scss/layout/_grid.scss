// Grid System - Cannabis Retro-Futurism
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--skyworks-space-lg);
  
  @media (max-width: 768px) {
    padding: 0 var(--skyworks-space-md);
  }
  
  @media (max-width: 480px) {
    padding: 0 var(--skyworks-space-sm);
  }
  
  &--fluid {
    max-width: 100%;
  }
  
  &--narrow {
    max-width: 800px;
  }
  
  &--wide {
    max-width: 1440px;
  }
}

// Grid system
.row {
  display: flex;
  flex-wrap: wrap;
  margin: 0 calc(var(--skyworks-space-md) * -1);
  
  &--no-gutters {
    margin: 0;
    
    .col {
      padding: 0;
    }
  }
  
  &--reverse {
    flex-direction: row-reverse;
  }
  
  &--center {
    justify-content: center;
  }
  
  &--end {
    justify-content: flex-end;
  }
  
  &--middle {
    align-items: center;
  }
  
  &--bottom {
    align-items: flex-end;
  }
}

.col {
  flex: 1;
  padding: 0 var(--skyworks-space-md);
  
  // Column sizes
  @for $i from 1 through 12 {
    &-#{$i} {
      flex: 0 0 #{percentage($i / 12)};
      max-width: #{percentage($i / 12)};
    }
  }
  
  // Responsive columns
  @media (max-width: 768px) {
    @for $i from 1 through 12 {
      &-md-#{$i} {
        flex: 0 0 #{percentage($i / 12)};
        max-width: #{percentage($i / 12)};
      }
    }
  }
  
  @media (max-width: 480px) {
    @for $i from 1 through 12 {
      &-sm-#{$i} {
        flex: 0 0 #{percentage($i / 12)};
        max-width: #{percentage($i / 12)};
      }
    }
    
    // Mobile-first: all columns full width on small screens
    &:not([class*="sm-"]) {
      flex: 0 0 100%;
      max-width: 100%;
    }
  }
  
  // Auto columns
  &-auto {
    flex: 0 0 auto;
    width: auto;
    max-width: none;
  }
}

// Offset classes
@for $i from 0 through 11 {
  .offset-#{$i} {
    margin-left: #{percentage($i / 12)};
  }
}

// Section layouts
.section {
  padding: var(--skyworks-space-xxxl) 0;
  position: relative;
  
  &--hero {
    padding: 0;
    min-height: 100vh;
  }
  
  &--compact {
    padding: var(--skyworks-space-xl) 0;
  }
  
  &--large {
    padding: calc(var(--skyworks-space-xxxl) * 1.5) 0;
  }
  
  // Background variants
  &--dark {
    background: var(--skyworks-dark);
    color: var(--skyworks-light);
  }
  
  &--darker {
    background: var(--skyworks-darker);
    color: var(--skyworks-light);
  }
  
  &--gradient {
    background: var(--skyworks-gradient-dark);
    color: var(--skyworks-light);
  }
  
  &--primary {
    background: var(--skyworks-gradient-primary);
    color: var(--skyworks-dark);
  }
  
  // Cannabis leaf pattern overlay
  &--cannabis-pattern {
    position: relative;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50 10c-5 0-10 5-10 10 0 3 2 6 5 8-3 2-5 5-5 8 0 5 5 10 10 10s10-5 10-10c0-3-2-6-5-8 3-2 5-5 5-8 0-5-5-10-10-10z' fill='%2300ff88' opacity='0.05'/%3E%3C/svg%3E");
      background-size: 200px 200px;
      opacity: 0.3;
      pointer-events: none;
    }
  }
}

// Flexbox utilities
.d-flex {
  display: flex;
  
  &--column {
    flex-direction: column;
  }
  
  &--wrap {
    flex-wrap: wrap;
  }
  
  &--nowrap {
    flex-wrap: nowrap;
  }
  
  &--justify-center {
    justify-content: center;
  }
  
  &--justify-between {
    justify-content: space-between;
  }
  
  &--justify-around {
    justify-content: space-around;
  }
  
  &--justify-end {
    justify-content: flex-end;
  }
  
  &--align-center {
    align-items: center;
  }
  
  &--align-start {
    align-items: flex-start;
  }
  
  &--align-end {
    align-items: flex-end;
  }
  
  &--align-stretch {
    align-items: stretch;
  }
}

// CSS Grid layouts
.grid {
  display: grid;
  gap: var(--skyworks-space-lg);
  
  &--2 {
    grid-template-columns: repeat(2, 1fr);
    
    @media (max-width: 768px) {
      grid-template-columns: 1fr;
    }
  }
  
  &--3 {
    grid-template-columns: repeat(3, 1fr);
    
    @media (max-width: 768px) {
      grid-template-columns: repeat(2, 1fr);
    }
    
    @media (max-width: 480px) {
      grid-template-columns: 1fr;
    }
  }
  
  &--4 {
    grid-template-columns: repeat(4, 1fr);
    
    @media (max-width: 768px) {
      grid-template-columns: repeat(2, 1fr);
    }
    
    @media (max-width: 480px) {
      grid-template-columns: 1fr;
    }
  }
  
  &--auto {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }
  
  &--dense {
    grid-auto-flow: dense;
  }
}

// Masonry layout
.masonry {
  columns: 3;
  column-gap: var(--skyworks-space-lg);
  column-fill: balance;
  
  @media (max-width: 768px) {
    columns: 2;
  }
  
  @media (max-width: 480px) {
    columns: 1;
  }
  
  .masonry-item {
    break-inside: avoid;
    margin-bottom: var(--skyworks-space-lg);
    display: inline-block;
    width: 100%;
  }
}

// Aspect ratio utilities
.aspect-ratio {
  position: relative;
  width: 100%;
  height: 0;
  
  &--16-9 {
    padding-bottom: 56.25%;
  }
  
  &--4-3 {
    padding-bottom: 75%;
  }
  
  &--1-1 {
    padding-bottom: 100%;
  }
  
  &--3-2 {
    padding-bottom: 66.67%;
  }
  
  > * {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
}